# 什么是好的function？
* 定义：一个function中 只包含一件事情
* function的命名规则：最好有动词，因为fucntion是做事情
* 尽量不要有大的`if else`和`switch`：
  * 什么叫大的if else 和 switch：指通过这两个关键字将整个方法分割成了若干份

    ```python
    # 进入方法后，什么都没干 直接if else 将方法进行了分割
    def cal_num(num1):
        if num1 == 1:
            # 第一部分
        else if num2 == 2:
            # 第二部分
    ```

  * 大的`if else`和`switch`证明一个函数没有做一件事情
  * 大的`switch`还会违反开闭原则：因为当我们添加新的扩展后，要对已有的代码进行修改（调用它的`switch`中添加相应的`case`），违反了开闭原则
  * 注意：该条建议在后端（业务逻辑）开发上会有启发作用，但在前端开发上的指导意义不大，因为前端很难对GUI进行很彻底的封装，为了为满足客户的使用逻辑，很容易出现大量的**大的if else 和 switch**：在开发OA审批时，用户点击提交审批后，会根据comboBox选中的是`同意`或`驳回`去调用不同的后端方法，此时大的`if else`就无法避免，也不用进行避免

# 传入参数规范
  * 传参数量：最好控制在三个以内，如果多于三个，可以考虑将参数封装成一个对象
  * 不建议传入的数据类型：布尔类型，如果传递布尔类型进入方法，意味着其中肯定有一个大的`if else`或 `switch`，可以将其分割成多个方法
    * 错误示例
        ```python
        # sym 为 True 则向数据库添加data；False则说明向数据库删除data数据
        def manipulate_data(data, sym):
            if sym:
                sql = 'insert from TABLE_TEST'
            else:
        ```
    * 正确
        ```python
        # 分解成两个方法
        def insert_data(data):

        
        def del_data(data):
        ```
    * 注意：仅仅是不建议将布尔类型设置为参数，有些情况确实需要这样设置，如开关方法（即负责某个组件或状态的开关），此时布尔类型参数是ok的   

# 如何分离代码
  * 对于一个上千行的方法，其中做了4件事情，这四件事都会对i, j的数值进行变更，并且i，j数值不一样时，每件事情的逻辑也不相同
    ```python
    def parse_gui():
        int i, j = 0
        做第一件事情
        if i == 0:
            if j == 0:
                做第二件事
            做第三件事
        else:
            做第三件事
        if j >= 1:
            做第四件事
    ```
    * 我们的目的，就是将四件事进行提取，并封装在不同的方法里，但是每个方法都因为i，j的不同而触发不同的逻辑（即方法中的代码与i, j高度高度耦合），面对这种情况，我们一般将i，j抽取出来，变为全局变量，此时我们就会发现，`parse_gui`其实并不是一个方法，而是一个类

# Side Effect
* Side Effect是指改变了系统状态的语句，大部分是内存泄漏或文件打开后忘记关闭，如：
  * open：留下一个打开文件的句柄，当大量文件打开后未关闭可能导致系统崩溃
  * new：留下一个声明的内存块，不进行回收的话 可能会导致内存泄露
* 虽然目前很多语言都有一定的垃圾回收机制，但管理仍需要程序员注意
* 保证产生和消除Side Effect的语句成对出现（如`open`文件后，尽快`close`），即可避免Side Effect带来的影响

# 返回值
* 函数最好有返回值
* 如果函数执行异常，返回异常好于返回状态码