# 镜像、容器、仓库的关系
|要素名称|描述|与其他要素的关系|
|--|--|--|
|仓库|仓库用于存放镜像|一个**仓库**存放多个**镜像**|
|镜像|镜像为一个只读文件|一个**镜像**可以实例化为多个**容器**|
|容器|被镜像创建的运行实例|为镜像提供了一个标准的运行环境，让镜像跑起来（运行环境+应用程序）|

# Docker 运行流程
* 用户使用Docker Client 与 Docker Deamon建立通信
* Docker Deamon中的Docker Server负责接收 & 处理 Client发送来的请求
* 当请求为启动一个镜像时，Docker Engine会实例化一个Job，如果本地发现对应的image文件，则直接由Job启动，否则从Docker repository拉来对应的镜像后启动
* 当Docker需要网络环境时（容器间通信或对外网络通信），由网络管理驱动`Network driver`创建 & 配置Docker容器的网络环境
* 经过设备管理、端口映射以及网络管理等模块处理后，最终生成可以被控制的容器

# Docker与虚拟机的区别
* Docker仅提供镜像运行的最小环境（软件虚拟化），虚拟机将底层硬件到软件全部虚拟化
* Docker仅利用宿主机的内核，而虚拟机则是单独虚拟化整个操作系统

||Docker|虚拟机|
|--|--|--|
|操作系统|与宿主机共享OS|宿主机的OS上，独立运行虚拟机得OS|
|存储大小|镜像小，方便存储 & 运输|镜像庞大|
|运行性能|几乎无额外性能损失|操作系统额外的CPU、内存消耗|
|移植性|轻便、灵活，适用于Linux|笨重、与虚拟化技术耦合程度高|
|硬件亲和性|由于Docker Engine的隔离，专注于软件开发者|面向硬件运维|
|部署速度|秒级别|较慢|